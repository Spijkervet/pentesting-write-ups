# HackTheBox | Curling Write-up

*October 23, 2018*

Author: Jane Wilde (wilde)



[TOC]

| Severity Level   | **<span style="color: red">Critical</span>** |
| ---------------- | -------------------------------------------- |
| **Access level** | **Method**                                   |
| User             |                                              |
| Root             |                                              |

<div style="page-break-after: always;"></div>

#Recap



<div style="page-break-after: always;"></div>

# Service Enumeration

# Penetration

##User access

```
root@kali:~/hackthebox/machines/curling# cat password_backup
00000000: 425a 6839 3141 5926 5359 819b bb48 0000  BZh91AY&SY...H..
00000010: 17ff fffc 41cf 05f9 5029 6176 61cc 3a34  ....A...P)ava.:4
00000020: 4edc cccc 6e11 5400 23ab 4025 f802 1960  N...n.T.#.@%...`
00000030: 2018 0ca0 0092 1c7a 8340 0000 0000 0000   ......z.@......
00000040: 0680 6988 3468 6469 89a6 d439 ea68 c800  ..i.4hdi...9.h..
00000050: 000f 51a0 0064 681a 069e a190 0000 0034  ..Q..dh........4
00000060: 6900 0781 3501 6e18 c2d7 8c98 874a 13a0  i...5.n......J..
00000070: 0868 ae19 c02a b0c1 7d79 2ec2 3c7e 9d78  .h...*..}y..<~.x
00000080: f53e 0809 f073 5654 c27a 4886 dfa2 e931  .>...sVT.zH....1
00000090: c856 921b 1221 3385 6046 a2dd c173 0d22  .V...!3.`F...s."
000000a0: b996 6ed4 0cdb 8737 6a3a 58ea 6411 5290  ..n....7j:X.d.R.
000000b0: ad6b b12f 0813 8120 8205 a5f5 2970 c503  .k./... ....)p..
000000c0: 37db ab3b e000 ef85 f439 a414 8850 1843  7..;.....9...P.C
000000d0: 8259 be50 0986 1e48 42d5 13ea 1c2a 098c  .Y.P...HB....*..
000000e0: 8a47 ab1d 20a7 5540 72ff 1772 4538 5090  .G.. .U@r..rE8P.
000000f0: 819b bb48                                ...H
root@kali:~/hackthebox/machines/curling# base64 --decode password_backup
�M4�M4base64: invalid input
root@kali:~/hackthebox/machines/curling# base64 --decode password_backup
password_backup      password_backup.bz2
root@kali:~/hackthebox/machines/curling# base64 --decode password_backup.bz2
base64: invalid input
root@kali:~/hackthebox/machines/curling# base64 --decode password_backup
�M4�M4base64: invalid input
root@kali:~/hackthebox/machines/curling# xxd -r password_backup
BZh91AY&SY���H���A��P)ava�:4N���nT#�@%�`
"��n�                                    ��z�@�i�4hdi���9�h�Q�dh���4i�5n�׌��Jh��*��}y.�<~�x�>   �sVT�zH�ߢ�1�V�!3�`F���s
     ۇ7j:X�dR��k�� ���)p�7۫;���9��PC�Y�P	�HB��*	��G� �U@r�rE8P����Hroot@kali:~/hackthebox/machines/curling# xxd -r password_backup > /tmp/password
root@kali:~/hackthebox/machines/curling# cd /tmp/p
-bash: cd: /tmp/p: No such file or directory
root@kali:~/hackthebox/machines/curling# cd /tmp/
root@kali:/tmp# ls
password                                                                systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT    systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu  systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU
root@kali:/tmp# cat password
BZh91AY&SY���H���A��P)ava�:4N���nT#�@%�`
"��n�                                    ��z�@�i�4hdi���9�h�Q�dh���4i�5n�׌��Jh��*��}y.�<~�x�>   �sVT�zH�ߢ�1�V�!3�`F���s
     ۇ7j:X�dR��k�� ���)p�7۫;���9��PC�Y�P	�HB��*	��G� �U@r�rE8P����Hroot@kali:/tmp# file password
password: bzip2 compressed data, block size = 900k
root@kali:/tmp#
root@kali:/tmp# bzip2 -d password
bzip2: Can't guess original name for password -- using password.out
root@kali:/tmp# ls
password.out                                                            systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT    systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu  systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU
root@kali:/tmp# cat password.out
�l[password�r�BZh91AY&SY6Ǎ����@@!PtD�� t"d�hhOPIS@�6��8ET>P@�#I bՃ|3��x���������(*N�&�H��k1��x��"�{�ೱ��]��B@�6�m��root@kali:/tmp#
root@kali:/tmp# ls
password.out                                                            systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT    systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu  systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU
root@kali:/tmp# rm password.out
root@kali:/tmp# cp ~/
.bash_history                Documents/                   .gnupg/                      .john/                       Pictures/                    .ssh/                        Videos/
.bashrc                      Downloads/                   hackthebox/                  .lesshst                     .profile                     Templates/                   .viminfo
.BurpSuite/                  etc/                         hollandfoodz/                .local/                      Public/                      .termineter/                 .wfuzz/
.cache/                      evo/                         .ICEauthority                .mozilla/                    .rnd                         .termineterhistory.txt       .wget-hsts
.config/                     evolutionarycomputation.org/ infosec-toolbox/             .msf4/                       share/                       .tmux.conf                   .wpscan/
Desktop/                     .gitconfig                   .java/                       Music/                       .sqlmap/                     -u                           .Xauthority
root@kali:/tmp# cp ~/hackthebox/machines/curling/password_backup .
root@kali:/tmp# ls
password_backup                                                         systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT    systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu  systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU
root@kali:/tmp# bunzip2 pass^C
root@kali:/tmp# xxd -r password_backup > password.bz2
root@kali:/tmp# bunzip2 password.bz2
root@kali:/tmp# file password
password         password_backup
root@kali:/tmp# file password
password: gzip compressed data, was "password", last modified: Tue May 22 19:16:20 2018, from Unix, original size 141
root@kali:/tmp# gunzip password
gzip: password: unknown suffix -- ignored
root@kali:/tmp# gunzip passwor^C
root@kali:/tmp# ls
password                                                                systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu
password_backup                                                         systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT    systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu
root@kali:/tmp# cat password
�l[password�r�BZh91AY&SY6Ǎ����@@!PtD�� t"d�hhOPIS@�6��8ET>P@�#I bՃ|3��x���������(*N�&�H��k1��x��"�{�ೱ��]��B@�6�m��root@kali:/tmp# file password
password: gzip compressed data, was "password", last modified: Tue May 22 19:16:20 2018, from Unix, original size 141
root@kali:/tmp# gzip ^C
root@kali:/tmp# gunzip password
gzip: password: unknown suffix -- ignored
root@kali:/tmp# gunzip -S .zip password
gzip: password: unknown suffix -- ignored
root@kali:/tmp# ls
password                                                                systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu
password_backup                                                         systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT    systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu
root@kali:/tmp# cat password
�l[password�r�BZh91AY&SY6Ǎ����@@!PtD�� t"d�hhOPIS@�6��8ET>P@�#I bՃ|3��x���������(*N�&�H��k1��x��"�{�ೱ��]��B@�6�m��root@kali:/tmp# mv password password.zip
root@kali:/tmp# gunzip -S
.font-unix/                                                                   systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj/
.ICE-unix/                                                                    systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU/
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT/         .Test-unix/
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu/       .X11-unix/
systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu/ .XIM-unix/
root@kali:/tmp# gunzip -S
.font-unix/                                                                   systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj/
.ICE-unix/                                                                    systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU/
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT/         .Test-unix/
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu/       .X11-unix/
systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu/ .XIM-unix/
root@kali:/tmp# gunzip -S ^C
root@kali:/tmp# gunzip pas^C
root@kali:/tmp#
root@kali:/tmp# ls
password_backup                                                         systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu
password.zip                                                            systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT    systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu
root@kali:/tmp# gunzip -S .zip password.zip
root@kali:/tmp# ls
password                                                                systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu
password_backup                                                         systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT    systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu
root@kali:/tmp# file password
password: bzip2 compressed data, block size = 900k
root@kali:/tmp# bunzip2 password
bunzip2: Can't guess original name for password -- using password.out
root@kali:/tmp# ls
password_backup                                                         systemd-private-edf880819c0f415291eef1c1ac622a90-ModemManager.service-zPpFsu
password.out                                                            systemd-private-edf880819c0f415291eef1c1ac622a90-rtkit-daemon.service-a7yyQj
systemd-private-edf880819c0f415291eef1c1ac622a90-bolt.service-0suGRT    systemd-private-edf880819c0f415291eef1c1ac622a90-upower.service-shs2YU
systemd-private-edf880819c0f415291eef1c1ac622a90-colord.service-k22tiu
root@kali:/tmp# cat password.out
password.txt0000644000000000000000000000002313301066143012147 0ustar  rootroot5d<wdCbdZu)|hChXll
root@kali:/tmp# file password.out
password.out: POSIX tar archive (GNU)
root@kali:/tmp# tar -xvf password.out
password.txt
root@kali:/tmp# cat password.txt
5d<wdCbdZu)|hChXll
root@kali:/tmp# cp password.txt ~/hackthebox/machines/curling/
```

```
root@kali:~/hackthebox/machines/curling# ssh floris@10.10.10.150
floris@10.10.10.150's password:
Welcome to Ubuntu 18.04 LTS (GNU/Linux 4.15.0-22-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

 System information disabled due to load higher than 2.0


0 packages can be updated.
0 updates are security updates.

Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings


Last login: Wed Oct 31 20:50:53 2018 from 10.10.12.225
floris@curling:~$
```

> Milestone: user.txt flag: 65dd1df0713b40d88ead98cf11b8530b

##Root access

